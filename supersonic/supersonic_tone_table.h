
// supersonic_tone_table generated by DK/circ_table_gen.py -- do not modify manually

 // variables used
 // --sig_max  1.400000
 // --table_div  6.829148
 // --table_op  1.000000

struct tablesupersonic_tone { // 1-dimensional function table
    float low;
    float high;
    float istep;
    int size;
    float data[];
};

template <int tab_size>
struct tablesupersonic_tone_imp {
    float low;
    float high;
    float istep;
    int size;
    float data[tab_size];
    operator tablesupersonic_tone&() const { return *(tablesupersonic_tone*)this; }
};

 static tablesupersonic_tone_imp<200> supersonic_tone_table __rt_data = {
	0,0.833333,142.143,200, {
	0.000000000000,0.005321478192,0.010648176936,0.015979409554,0.021314507671,
	0.026652820744,0.031993715637,0.037336576183,0.042680802769,0.048025811932,
	0.053371035957,0.058715922494,0.064059934174,0.069402548246,0.074743256214,
	0.080081563485,0.085416989029,0.090749065045,0.096077336632,0.101401361473,
	0.106720709527,0.112034962721,0.117343714661,0.122646570340,0.127943145856,
	0.133233068144,0.138515974703,0.143791513335,0.149059341896,0.154319128041,
	0.159570548989,0.164813291280,0.170047050548,0.175271531298,0.180486446681,
	0.185691518287,0.190886475930,0.196071057450,0.201245008511,0.206408082405,
	0.211560039870,0.216700648899,0.221829684563,0.226946928837,0.232052170424,
	0.237145204592,0.242225833012,0.247293863593,0.252349110335,0.257391393172,
	0.262420537824,0.267436375659,0.272438743547,0.277427483723,0.282402443657,
	0.287363475922,0.292310438065,0.297243192485,0.302161606311,0.307065551283,
	0.311954903640,0.316829544005,0.321689357274,0.326534232513,0.331364062850,
	0.336178745376,0.340978181042,0.345762274566,0.350530934338,0.355284072325,
	0.360021603982,0.364743448166,0.369449527049,0.374139766036,0.378814093680,
	0.383472441605,0.388114744431,0.392740939690,0.397350967764,0.401944771801,
	0.406522297655,0.411083493809,0.415628311314,0.420156703722,0.424668627020,
	0.429164039572,0.433642902056,0.438105177405,0.442550830749,0.446979829361,
	0.451392142598,0.455787741853,0.460166600498,0.464528693834,0.468873999046,
	0.473202495146,0.477514162932,0.481808984942,0.486086945405,0.490348030200,
	0.494592226813,0.498819524293,0.503029913215,0.507223385636,0.511399935059,
	0.515559556394,0.519702245924,0.523828001262,0.527936821323,0.532028706287,
	0.536103657564,0.540161677765,0.544202770665,0.548226941177,0.552234195319,
	0.556224540186,0.560197983918,0.564154535676,0.568094205612,0.572017004842,
	0.575922945421,0.579812040318,0.583684303390,0.587539749358,0.591378393782,
	0.595200253040,0.599005344307,0.602793685528,0.606565295400,0.610320193351,
	0.614058399518,0.617779934730,0.621484820485,0.625173078933,0.628844732858,
	0.632499805659,0.636138321333,0.639760304455,0.643365780168,0.646954774159,
	0.650527312649,0.654083422373,0.657623130568,0.661146464957,0.664653453735,
	0.668144125552,0.671618509506,0.675076635122,0.678518532344,0.681944231521,
	0.685353763393,0.688747159081,0.692124450075,0.695485668219,0.698830845706,
	0.702160015062,0.705473209135,0.708770461089,0.712051804391,0.715317272800,
	0.718566900359,0.721800721385,0.725018770462,0.728221082426,0.731407692363,
	0.734578635597,0.737733947682,0.740873664395,0.743997821724,0.747106455868,
	0.750199603222,0.753277300373,0.756339584092,0.759386491328,0.762418059200,
	0.765434324992,0.768435326142,0.771421100244,0.774391685032,0.777347118382,
	0.780287438301,0.783212682925,0.786122890508,0.789018099425,0.791898348158,
	0.794763675296,0.797614119528,0.800449719640,0.803270514507,0.806076543090,
	0.808867844435,0.811644457661,0.814406421961,0.817153776597,0.819886560896,
	0.822604814244,0.825308576084,0.827997885911,0.830672783270,0.833333307750
	}
};

double always_inline supersonic_toneclip(double x) {
    double f = fabs(x);
    f = f * supersonic_tone_table.istep;
    int i = static_cast<int>(f);
    if (i < 0) {
        f = supersonic_tone_table.data[0];
    } else if (i >= supersonic_tone_table.size-1) {
        f = supersonic_tone_table.data[supersonic_tone_table.size-1];
    } else {
    f -= i;
    f = supersonic_tone_table.data[i]*(1-f) + supersonic_tone_table.data[i+1]*f;
    }
    return copysign(f, x);
}

