
// tubedistortion_table generated by DK/circ_table_gen.py -- do not modify manually

 // variables in use
 // max_sig = 2.000000
 // step operator = 0.500000
 // divider = 8.244636

struct table1d { // 1-dimensional function table
    float low;
    float high;
    float istep;
    int size;
    float data[];
};

template <int tab_size>
struct table1d_imp {
    float low;
    float high;
    float istep;
    int size;
    float data[tab_size];
    operator table1d&() const { return *(table1d*)this; }
};

 static table1d_imp<200> circ_table __rt_data = {
	0,0.640323,99.5,200, {
	0.000000000000,0.003548952984,0.007145278780,0.010788969877,0.014479977859,
	0.018218212387,0.022003539464,0.025835779781,0.029714707141,0.033640046993,
	0.037611475070,0.041628616147,0.045691042930,0.049798275087,0.053949778430,
	0.058144964247,0.062383188811,0.066663753058,0.070985902449,0.075348827013,
	0.079751661588,0.084193486253,0.088673326957,0.093190156349,0.097742894806,
	0.102330411653,0.106951526589,0.111605011286,0.116289591191,0.121003947495,
	0.125746719275,0.130516505798,0.135311868973,0.140131335998,0.144973401886,
	0.149836532586,0.154719167729,0.159619723691,0.164536596689,0.169468165920,
	0.174412796744,0.179368843895,0.184334654689,0.189308572229,0.194288938589,
	0.199274097954,0.204262399709,0.209252201465,0.214241872001,0.219229794118,
	0.224214367389,0.229194010802,0.234167165273,0.239132296040,0.244087894915,
	0.249032482397,0.253964609641,0.258882860274,0.263785852065,0.268672238437,
	0.273540709831,0.278389994910,0.283218861624,0.288026118113,0.292810613478,
	0.297571238395,0.302306925608,0.307016650275,0.311699430197,0.316354325920,
	0.320980440723,0.325576920498,0.330142953524,0.334677770149,0.339180642382,
	0.343650883398,0.348087846971,0.352490926838,0.356859555997,0.361193205951,
	0.365491385901,0.369753641892,0.373979555923,0.378168745025,0.382320860306,
	0.386435585978,0.390512638360,0.394551764876,0.398552743032,0.402515379396,
	0.406439508571,0.410324992168,0.414171717789,0.417979598009,0.421748569372,
	0.425478591397,0.429169645599,0.432821734522,0.436434880791,0.440009126187,
	0.443544530729,0.447041171793,0.450499143239,0.453918554567,0.457299530097,
	0.460642208164,0.463946740350,0.467213290726,0.470442035130,0.473633160457,
	0.476786863987,0.479903352726,0.482982842772,0.486025558711,0.489031733031,
	0.492001605558,0.494935422917,0.497833438015,0.500695909542,0.503523101501,
	0.506315282748,0.509072726558,0.511795710214,0.514484514605,0.517139423851,
	0.519760724943,0.522348707400,0.524903662940,0.527425885174,0.529915669309,
	0.532373311867,0.534799110424,0.537193363356,0.539556369600,0.541888428433,
	0.544189839256,0.546460901396,0.548701913915,0.550913175431,0.553094983954,
	0.555247636725,0.557371430067,0.559466659252,0.561533618362,0.563572600175,
	0.565583896047,0.567567795808,0.569524587663,0.571454558096,0.573357991794,
	0.575235171557,0.577086378234,0.578911890651,0.580711985551,0.582486937537,
	0.584237019020,0.585962500174,0.587663648888,0.589340730736,0.590994008934,
	0.592623744315,0.594230195299,0.595813617872,0.597374265561,0.598912389420,
	0.600428238016,0.601922057414,0.603394091167,0.604844580314,0.606273763368,
	0.607681876321,0.609069152636,0.610435823252,0.611782116587,0.613108258540,
	0.614414472501,0.615700979353,0.616967997487,0.618215742806,0.619444428740,
	0.620654266260,0.621845463886,0.623018227706,0.624172761387,0.625309266197,
	0.626427941015,0.627528982353,0.628612584373,0.629678938904,0.630728235463,
	0.631760661276,0.632776401294,0.633775638215,0.634758552510,0.635725322434,
	0.636676124058,0.637611131284,0.638530515869,0.639434447446,0.640323093550
	}
};

double always_inline circclip(double x) {
    double f = fabs(x);
    f = f * circ_table.istep;
    int i = static_cast<int>(f);
    if (i < 0) {
        f = circ_table.data[0];
    } else if (i >= circ_table.size-1) {
        f = circ_table.data[circ_table.size-1];
    } else {
    f -= i;
    f = circ_table.data[i]*(1-f) + circ_table.data[i+1]*f;
    }
    return copysign(f, x);
}

